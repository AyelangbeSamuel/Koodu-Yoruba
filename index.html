<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>K√≥√≤d√π Yoruba ‚Äî Learn Hardware Programming in Yoruba</title>
  <link rel="icon" type="image/x-icon" href="./assets/images/favicon.ico.jpg">
  <meta name="description" content="K√≥√≤d√π Yoruba ‚Äî Learn Arduino & hardware in Yoruba. Download libraries, sample code, watch tutorials and buy kits."/>
  <!-- Lucide icons -->
  <script type="module" src="https://unpkg.com/lucide@latest"></script>

  <!-- GSAP + ScrollTrigger (for high-quality animations) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>

  <!-- tsParticles for particle layer -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@3.6.0/tsparticles.bundle.min.js" defer></script>

  <style>
    /* ==============
       VARIABLES
       ============== */
    :root{
      --bg-dark: #0b0b0e;
      --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.04);
      --glass-border: rgba(255,255,255,0.12);
      --text: #f4f4f5;
      --muted: rgba(244,244,245,0.75);
      --accent1: #ff6600;   /* burnt-orange */
      --accent2: #ffd24d;   /* gold */
      --accent3: #00e6c6;   /* cyan accent */
      --radius: 16px;
      --shadow-lg: 0 20px 60px rgba(2,6,23,0.65);
      --maxw: 1200px;
      --transition: 300ms cubic-bezier(.22,.9,.35,1);
      --glass-blur: 70px;
      --font: "Poppins", "Segoe UI", system-ui, -apple-system, sans-serif;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
    }

    /* ===== Reset & base ===== */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:linear-gradient(180deg,#050508 0%, #0d0d10 100%);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}

    /* ===== Header / Hero container ===== */
    header.site-header{
      position:relative;
      overflow:visible;
    }

    /* Background visual layers */
    .bg-visuals{
      position: fixed;
      inset: 0;
      z-index: -3;
      pointer-events: none;
    }

    /* Video background */
    .bg-video {
      position: absolute;
      inset: 0;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      isolation:isolate;
    }
    .bg-video video{
      min-width: 100%;
      min-height: 100%;
      width:auto;
      height:auto;
      object-fit: cover;
      filter: saturate(1.05) contrast(1.02) brightness(0.70) blur(0.2px);
      transform: scale(1.02);
    }

    /* overlay pattern + gradient to give Yoruba vibe */
    .bg-overlay{
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(10,8,12,0.6), rgba(5,5,8,0.45));
      mix-blend-mode: multiply;
      z-index: -1;
    }

    /* subtle animated SVG pattern mask */
    .pattern-mask{
      position:absolute;
      inset:0;
      z-index:-2;
      opacity:0.14;
      pointer-events:none;
      background-image: radial-gradient(circle at 12% 10%, rgba(255,214,77,0.07) 0px, transparent 40%),
                        radial-gradient(circle at 82% 85%, rgba(255,102,0,0.06) 0px, transparent 35%);
      background-size: 1200px 800px, 900px 600px;
      animation: slow-shift 18s linear infinite;
      mix-blend-mode: overlay;
    }
    @keyframes slow-shift {
      from{background-position: 0% 0%, 0% 0%}
      to{background-position: 100% 100%, -50% -20%}
    }

    /* particles canvas container (tsParticles) */
    #tsparticles {
      position:absolute;
      inset:0;
      z-index:-1;
      pointer-events:none;
      opacity:0.9;
    }

    /* top header bar (glass) */
    .header-inner{
      max-width:var(--maxw);
      margin: 1.1rem auto;
      padding: 1rem 1.25rem;
      display:flex;
      gap:1rem;
      align-items:center;
      justify-content:space-between;
      backdrop-filter: blur(var(--glass-blur));
      background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: 12px;
      border: 1px solid var(--glass-border);
      box-shadow: var(--shadow-lg);
    }

    .brand{
      display:flex;
      gap:0.9rem;
      align-items:center;
    }
    .brand img{
      width:60px;height:60px;border-radius:50%;
      border:3px solid rgba(255,102,0,0.85);
      box-shadow: 0 6px 18px rgba(255,102,0,0.14);
      background: rgba(0,0,0,0.4);
    }
    .brand h1{font-size:1.1rem;margin:0;color:var(--accent2);letter-spacing:0.2px}
    .brand p{margin:0;font-size:0.85rem;color:var(--muted)}

    /* nav */
    .main-nav{
      display:flex;
      gap:0.5rem;
      align-items:center;
      flex-wrap:wrap;
    }
    .main-nav a{
      padding:0.45rem 0.8rem;
      border-radius:999px;
      font-weight:600;
      font-size:0.9rem;
      background:transparent;
      border:1px solid transparent;
      color:var(--muted);
      transition: all var(--transition);
    }
    .main-nav a:hover{
      transform: translateY(-3px);
      color: white;
      background: linear-gradient(90deg, rgba(255,102,0,0.12), rgba(255,210,77,0.06));
      border-color: rgba(255,210,77,0.12);
    }

    .header-actions{display:flex;gap:.6rem;align-items:center}
    .header-actions button{
      background:var(--glass-2);
      border:1px solid var(--glass-border);
      color:var(--text);
      padding:.5rem .7rem;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      transition:all var(--transition);
    }
    .header-actions button:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,0.4)}

    /* HERO */
    .hero{
      max-width: var(--maxw);
      margin: 2.4rem auto;
      padding: 4rem 2rem;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      box-shadow: 0 30px 80px rgba(3,6,11,0.6);
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:2rem;
      align-items:center;
      z-index:1;
    }

    .hero-content{padding-right:1rem}
    .hero h2{
      font-size:2.25rem;
      margin:0 0 .4rem 0;
      color:var(--accent2);
      line-height:1.02;
      letter-spacing:0.2px;
    }
    .hero p{
      margin:0 0 1.25rem 0;
      font-size:1.05rem;
      color:var(--muted);
    }
    .hero-cta{display:flex;gap:1rem;flex-wrap:wrap}
    .btn{
      display:inline-block;
      padding:.9rem 1.2rem;
      border-radius:999px;
      background: linear-gradient(90deg,var(--accent1), #ff8a3d);
      color:#fff;
      font-weight:700;
      box-shadow: 0 8px 30px rgba(255,102,0,0.14);
      transition: transform var(--transition), box-shadow var(--transition);
    }
    .btn:hover{transform: translateY(-4px) scale(1.02)}
    .btn.outline{
      background:transparent;
      color:var(--accent2);
      border:1px solid rgba(255,210,77,0.12);
      box-shadow:none;
    }

    /* hero decoration image */
    .hero-deco{
      width:380px;
      border-radius:14px;
      opacity:0.95;
      transform: translateY(8px);
      border:1px solid rgba(255,255,255,0.04);
      box-shadow: 0 30px 60px rgba(0,0,0,0.45);
      justify-self:end;
    }

    /* make iframe cards responsive */
    .videos-grid .video-card iframe{height:220px;border-radius:12px}

    /* Sections */
    .section{
      max-width: var(--maxw);
      margin: 3rem auto;
      padding: 2.4rem;
      border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      box-shadow: 0 30px 60px rgba(3, 7, 15, 0.5)
    }
    .section h3{font-size:1.6rem;margin:0 0 0.6rem 0;color:var(--accent2)}
    .section p{margin:0 0 1.2rem 0;color:var(--muted)}

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap:1.2rem;
      align-items:start;
    }

    .card{
      padding:1.1rem;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005));
      border:1px solid rgba(255,255,255,0.03);
      transition: transform var(--transition), box-shadow var(--transition);
    }
    .card:hover{transform:translateY(-8px);box-shadow:0 18px 48px rgba(4,8,20,0.6)}

    .product-card img{height:180px;object-fit:cover;border-radius:10px}
    .product-actions{margin-top:.6rem;display:flex;gap:.6rem;flex-wrap:wrap}

    /* Subscribe & contact */
    .subscribe-card input, .contact-box input, .contact-box textarea{
      width:100%;padding:.8rem;border-radius:10px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04);color:var(--text);
    }
    .contact-box{display:flex;flex-direction:column;gap:.8rem;padding:1rem;border-radius:12px}
    .contact-success{display:none;padding:.8rem;border-radius:8px;background:linear-gradient(90deg,#00e6c6, #ffd24d);color:#111;font-weight:700;margin-top:.6rem}

    /* Footer */
    footer{max-width:var(--maxw);margin:2.5rem auto;color:var(--muted);padding:1.2rem 1rem;text-align:center}
    footer .socials{display:flex;gap:10px;justify-content:center;margin-top:.8rem}

    /* Responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr; padding:2.5rem; gap:1.2rem}
      .hero-deco{width:100%;order:-1;opacity:.9}
      .header-inner{flex-direction:column;align-items:stretch}
      .main-nav{justify-content:center}
    }
    @media (max-width:520px){
      .brand h1{font-size:1rem}
      .brand p{font-size:.75rem}
      .btn{padding:.7rem .9rem;font-size:.95rem}
      .videos-grid .video-card iframe{height:160px}
    }

    /* little sparkle accent */
    .badge{
      display:inline-flex;
      gap:.5rem;
      align-items:center;
      padding:.35rem .6rem;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(255,102,0,0.12), rgba(255,210,77,0.06));
      color:var(--accent2);
      font-weight:700;
      font-size:.85rem;
    }

  </style>
</head>
<body>

  <!-- Background visual layers -->
  <div class="bg-visuals" aria-hidden="true">
    <div class="bg-video">
      <!-- Put your Yoruba cultural abstract pattern video here -->
      <!-- IMPORTANT: add the file ./assets/video/yoruba-abstract.mp4 or update the src -->
      <video id="bgVideo" autoplay muted loop playsinline poster="./assets/images/hero.jpg">
        <source src="./assets/backintro.mp4" type="video/mp4">
        <!-- fallback: animated gif -->
      </video>
    </div>

    <div id="tsparticles"></div>
    <div class="pattern-mask"></div>
    <div class="bg-overlay"></div>
  </div>

  <header class="site-header" role="banner">
    <div class="header-inner" role="navigation" aria-label="Primary">
      <div class="brand" title="K√≥√≤d√π Yoruba">
        <img id="logo" src="./assets/images/koodu-yoruba.jpg" alt="K√≥√≤d√π Yoruba logo" />
        <div>
          <h1 id="site-title">K√≥√≤d√π Yoruba</h1>
          <p id="site-subtitle">Learn hardware programming in Yoruba</p>
        </div>
      </div>

      <nav class="main-nav" role="navigation" aria-label="Main">
        <a href="#videos">Videos</a>
        <a href="#library">Library</a>
        <a href="#store">Store</a>
        <a href="#components">Components</a>
        <a href="#community">Community</a>
        <a href="#support">Support</a>
      </nav>

      <div class="header-actions">
        <button id="toggle-dark" aria-pressed="false" title="Toggle dark mode">üåô</button>
        <button id="toggle-lang" aria-pressed="false" title="Toggle language">EN/YR</button>
      </div>
    </div>

    <div class="hero" role="region" aria-label="hero">
      <div class="hero-content">
        <div class="badge">K√≥√≤d√π ‚Ä¢ Yoruba</div>
        <h2 id="hero-title">K√≥√≤d√π Yoruba</h2>
        <p id="hero-sub">Programming Arduino and hardware in Yoruba.</p>
        <div class="hero-cta">
          <a class="btn" href="#videos" id="cta-watch">Watch Tutorials</a>
          <a class="btn outline" href="#library" id="cta-download">Download Library</a>
        </div>
        <p style="margin-top:1rem;color:var(--muted)">Subscribe to the channel for code, parts and Yoruba explanations.</p>
      </div>

      <img class="hero-deco" src="./assets/images/hero.jpeg" alt="Arduino examples" aria-hidden="true"/>
    </div>
  </header>

  <main>
    <!-- Videos -->
    <section id="videos" class="section" aria-labelledby="videosTitle">
      <h3 id="videosTitle">Latest Tutorials</h3>
      <p id="videosDesc">Shorts and full tutorials in Yoruba.</p>
      <div class="grid videos-grid" id="videosGrid">
        <!-- Responsive video cards -->
        <article class="card video-card" data-animate>
          <div style="aspect-ratio:16/9;overflow:hidden;border-radius:12px">
            <iframe loading="lazy" src="https://www.youtube.com/embed/ZK3uvnh2xi0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <h4>Introduction to Koodu Yoruba Channel (Yoruba)</h4>
        </article>

        <article class="card video-card" data-animate>
          <div style="aspect-ratio:16/9;overflow:hidden;border-radius:12px">
            <iframe loading="lazy" src="https://www.youtube.com/embed/sKk3L0EnLko" title="Library download" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <h4>Bi a she ngba laibiri ati bi Arduino ide se n sise (Library Download)</h4>
        </article>

        <article class="card video-card" data-animate>
          <div style="aspect-ratio:16/9;overflow:hidden;border-radius:12px">
            <iframe loading="lazy" src="https://www.youtube.com/embed/VWmqdU8KRis" title="LED Blinking" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <h4>Idan wo bi ina se n sise (LED Blinking Yoruba)</h4>
        </article>

        <article class="card video-card" data-animate>
          <div style="aspect-ratio:16/9;overflow:hidden;border-radius:12px">
            <iframe loading="lazy" src="https://www.youtube.com/embed/wl3lA-NtqWo" title="Tutorial" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
          </div>
          <h4>Eko ina titan (Blink Tutorial)</h4>
        </article>
      </div>
    </section>

    <!-- Library -->
    <section id="library" class="section" aria-labelledby="libraryTitle">
      <h3 id="libraryTitle">AdeYorubaDuino Library</h3>
      <p id="libraryDesc">Download the Yoruba Arduino library and the dictionary (docx / pdf).</p>
      <div class="grid">
        <div class="card" data-animate>
          <h4>AdeYorubaDuino.zip</h4>
          <p>Includes header, source, examples and docs.</p>
          <a class="btn" href="./downloads/AdeYorubaDuino.zip" download>Download Library</a>
        </div>
        <div class="card" data-animate>
          <h4>Dictionary (Word & PDF)</h4>
          <p>Yoruba ‚Üí English mapping of keywords & APIs.</p>
          <div style="display:flex;gap:.5rem;margin-top:.6rem;flex-wrap:wrap">
            <a class="btn outline" href="./downloads/AdeYorubaDuino_Dictionary.docx" download>Download DOCX</a>
            <a class="btn outline" href="./downloads/AdeYorubaDuino_Dictionary.pdf" download>Download PDF</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Store -->
    <section id="store" class="section" aria-labelledby="storeTitle">
      <h3 id="storeTitle">Store Support the Channel</h3>
      <p>Buy starter kits, sensors and more. Links go to your payment or shop pages.</p>
      <div class="grid product-grid">
        <article class="product-card card" data-animate>
          <img src="./assets/images/uno.jpg" alt="Arduino Uno" />
          <h4>Arduino Uno Kit</h4>
          <p>Starter kit with breadboard, LEDs, sensors.</p>
          <div class="product-actions">
            <a class="btn" href="https://www.paypal.com/paypalme/yourlink" target="_blank" rel="noopener">Buy <del style="opacity:.6;margin-left:.4rem">‚Ç¶12,000</del></a>
          </div>
        </article>

        <article class="product-card card" data-animate>
          <img src="./assets/images/dht.jpg" alt="DHT11 Sensor" />
          <h4>DHT11 Temperature Sensor</h4>
          <p>Temperature & humidity sensor.</p>
          <div class="product-actions">
            <a class="btn" href="https://www.paypal.com/paypalme/yourlink" target="_blank" rel="noopener">Buy ‚Ç¶3,500</a>
          </div>
        </article>

        <article class="product-card card" data-animate>
          <img src="./assets/images/bread.jpg" alt="Breadboard" />
          <h4>Breadboard</h4>
          <p>Breadboard for prototyping.</p>
          <div class="product-actions">
            <a class="btn" href="https://www.paypal.com/paypalme/yourlink" target="_blank" rel="noopener">Buy ‚Ç¶4,500</a>
          </div>
        </article>
      </div>
    </section>

    <!-- Components -->
    <section id="components" class="section" aria-labelledby="componentsTitle">
      <h3 id="componentsTitle">Components</h3>
      <p>Suggested components and bundles for learners.</p>
      <div class="card" data-animate>
        <ul style="margin:0 0 0 1.1rem;padding:0.2rem 0;color:var(--muted)">
          <li>Arduino Uno / Nano</li>
          <li>Breadboard & Jumper Wires</li>
          <li>Servo, Stepper, Ultrasonic, DHT11</li>
        </ul>
      </div>
    </section>

    <!-- Community -->
    <section id="community" class="section" aria-labelledby="communityTitle">
      <h3 id="communityTitle">Community</h3>
      <p>Join the Telegram, Discord, or GitHub to share projects and ask questions.</p>
      <div class="grid">
        <div class="card" data-animate>
          <h4>Telegram</h4>
          <a class="btn outline" href="https://t.me/kooduYoruba" target="_blank">Join</a>
        </div>
        <div class="card" data-animate>
          <h4>Discord</h4>
          <a class="btn outline" href="https://discord.gg/yourserver" target="_blank">Join</a>
        </div>
        <div class="card" data-animate>
          <h4>GitHub</h4>
          <a class="btn outline" href="https://github.com/yourusername" target="_blank">Visit</a>
        </div>
        <div class="card" data-animate>
          <h4>Facebook</h4>
          <a class="btn outline" href="https://www.facebook.com/profile.php?id=61581761048106" target="_blank">Visit</a>
        </div>
      </div>
    </section>

    <!-- Subscribe / Contact -->
    <section id="support" class="section" aria-labelledby="supportTitle">
      <h3 id="supportTitle">Support & Contact</h3>
      <p id="supportDesc">Send a message, subscribe, or sponsor the channel.</p>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem">
        <div class="card subscribe-card" data-animate>
          <h4>Subscribe</h4>
          <p>Get updates, code and discounts.</p>
          <form id="subscribeForm" action="https://formspree.io/f/yourformid" method="POST">
            <input type="email" name="email" id="subscriberEmail" placeholder="yoruba@gmail.com" required />
            <input type="hidden" name="_subject" value="New subscriber from website" />
            <button class="btn" type="submit">Subscribe</button>
            <div id="subscribeSuccess" class="contact-success" role="status">Thank you ‚Äî A dup·∫πÃÅ! You are subscribed.</div>
          </form>
          <small style="display:block;margin-top:.6rem;color:var(--muted)">Or click to subscribe on YouTube:</small>
          <div style="margin-top:.5rem">
            <a class="btn outline" id="yt-subscribe" href="https://www.youtube.com/channel/UC_K√≥√≤duYoruba?sub_confirmation=1" target="_blank">Subscribe on YouTube</a>
          </div>
        </div>

        <div class="card" data-animate>
          <h4>Contact Us</h4>
          <form id="contactForm" action="https://formspree.io/f/yourformid" method="POST" class="contact-box">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Your name" required />

            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="you@example.com" required />

            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Write your message..." required></textarea>

            <button class="btn" type="submit">Send Message</button>
            <div id="contactSuccess" class="contact-success" role="status">Message sent ‚Äî> ·∫∏ k√∫ i·π£·∫πÃÅ! We will reply soon.</div>
          </form>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer" role="contentinfo">
    <div style="max-width:var(--maxw);margin:0 auto;padding:1rem">
      <p>&copy; 2025 K√≥√≤d√π Yoruba Built by Ayelangbe Adeyinka</p>
      <p style="color:var(--muted)"><small>Made with ‚ù§Ô∏è and Yoruba pride</small></p>

      <div class="socials" style="margin-top:.6rem">
        <a href="https://github.com/your-koodu-yoruba-repo" target="_blank" aria-label="GitHub"><i data-lucide="github"></i></a>
        <a href="https://www.youtube.com/@K√≥√≤d√πYoruba" target="_blank" aria-label="YouTube"><i data-lucide="youtube"></i></a>
        <a href="#" target="_blank" aria-label="Twitter"><i data-lucide="twitter"></i></a>
        <a href="#" target="_blank" aria-label="Instagram"><i data-lucide="instagram"></i></a>
        <a href="#" target="_blank" aria-label="Facebook"><i data-lucide="facebook"></i></a>
      </div>
    </div>
  </footer>

  <!-- SCRIPT: Core interactions, particles, GSAP animations -->
  <script>
    // Wait for window load to start non-critical visuals
    (function(){
      // ---------- Utilities ----------
      const qs = s => document.querySelector(s);
      const qsa = s => Array.from(document.querySelectorAll(s));

      // ---------- Dark mode & Language state ----------
      const darkBtn = qs('#toggle-dark');
      const langBtn = qs('#toggle-lang');
      const siteTitle = qs('#site-title');
      const siteSubtitle = qs('#site-subtitle');
      const heroTitle = qs('#hero-title');
      const heroSub = qs('#hero-sub');
      const videosTitle = qs('#videosTitle');
      const videosDesc = qs('#videosDesc');
      const libraryTitle = qs('#libraryTitle');
      const libraryDesc = qs('#libraryDesc');
      const supportDesc = qs('#supportDesc');
      const ctaWatch = qs('#cta-watch');
      const ctaDownload = qs('#cta-download');

      let dark = localStorage.getItem('darkMode') === 'true';
      let yoruba = localStorage.getItem('yorubaLang') === 'true';

      function applyDark(){
        document.documentElement.style.setProperty('--bg-dark', dark ? '#020203' : '#0b0b0e');
        if(dark){
          document.body.style.background = 'linear-gradient(180deg,#020203 0%, #0b0b0d 100%)';
          darkBtn.textContent = '‚òÄÔ∏è';
          darkBtn.setAttribute('aria-pressed', 'true');
        } else {
          darkBtn.textContent = 'üåô';
          darkBtn.setAttribute('aria-pressed', 'false');
          document.body.style.background = 'linear-gradient(180deg,#050508 0%, #0d0d10 100%)';
        }
        localStorage.setItem('darkMode', dark);
      }

      function applyLanguage(){
        if(yoruba){
          siteTitle.textContent = 'K√≥√≤d√π Yoruba';
          siteSubtitle.textContent = 'K·ªçÃÅ ·∫πÃÄk·ªçÃÅ √¨·π£√†k√≥so hardware n√≠ √®d√® Yor√πb√°';
          heroTitle.textContent = 'K√≥√≤d√π Yoruba';
          heroSub.textContent = 'K·ªçÃÅ Arduino √†ti hardware n√≠ Yor√πb√°';
          videosTitle.textContent = '√Äw·ªçn ·∫∏ÃÄk·ªçÃÅ T√≥ ·π¢·∫πÃÅy√¨n J√πl·ªç';
          videosDesc.textContent = '√Äw·ªçn movies k√©k√®k√© √†ti ·∫πk·ªçÃÅ p√≠p·∫πÃÅ n√≠ √®d√® Yor√πb√°';
          libraryTitle.textContent = 'AdeYorubaDuino L√°il√¨br√°r√¨';
          libraryDesc.textContent = 'Gba il·∫πÃÄk√πn Yor√πb√° Arduino';
          supportDesc.textContent = 'R√°n·π£·∫πÃÅ t√†b√≠ ·π£e √†t√¨l·∫πÃÅy√¨n f√∫n ikanni';
          ctaWatch.textContent = 'Wo ·∫∏ÃÄk·ªçÃÅ';
          ctaDownload.textContent = 'Gba L√°il√¨br√°r√¨';
          langBtn.setAttribute('aria-pressed','true');
        } else {
          siteTitle.textContent = 'K√≥√≤d√π Yoruba';
          siteSubtitle.textContent = 'Learn hardware programming in Yoruba';
          heroTitle.textContent = 'K√≥√≤d√π Yoruba';
          heroSub.textContent = 'Programming Arduino and hardware in Yoruba.';
          videosTitle.textContent = 'Latest Tutorials';
          videosDesc.textContent = 'Shorts and full tutorials in Yoruba.';
          libraryTitle.textContent = 'AdeYorubaDuino Library';
          libraryDesc.textContent = 'Download the Yoruba Arduino library and the dictionary (docx / pdf).';
          supportDesc.textContent = 'Send a message, subscribe, or sponsor the channel.';
          ctaWatch.textContent = 'Watch Tutorials';
          ctaDownload.textContent = 'Download Library';
          langBtn.setAttribute('aria-pressed','false');
        }
        localStorage.setItem('yorubaLang', yoruba);
      }

      // initialize
      applyDark();
      applyLanguage();

      darkBtn.addEventListener('click', ()=>{
        dark = !dark; applyDark();
      });
      langBtn.addEventListener('click', ()=>{
        yoruba = !yoruba; applyLanguage();
      });

      // ---------- particles (tsParticles) ----------
      // small, decorative particles in Yoruba palette
      function initParticles(){
        if(!window.tsParticles) return;
        tsParticles.load("tsparticles", {
          fpsLimit: 45,
          detectRetina: true,
          background: { color: "transparent" },
          particles: {
            number: { value: 32, density: { enable: true, area: 800 } },
            color: { value: ["#ff6600","#ffd24d","#00e6c6"] },
            shape: { type: "circle" },
            opacity: { value: 0.75, random: { enable:true, minimumValue: 0.25 } },
            size: { value: 5, random: { enable:true, minimumValue: 1 } },
            move: { enable: true, speed: 0.6, direction: "none", outModes: { default: "out" } },
            links: { enable: true, distance: 160, color: "#ffffff07", opacity: 0.05, width: 1 }
          },
          interactivity: {
            detectsOn: "canvas",
            events: { onHover: { enable: false }, onClick: { enable:false } }
          }
        }).catch(err=>{ /* ignore */ });
      }

      // ---------- subscription/contact handling ----------
      function handleForm(formEl, successEl){
        if(!formEl) return;
        formEl.addEventListener('submit', function(e){
          e.preventDefault();
          const fd = new FormData(formEl);
          const action = formEl.action;
          // Try to post; on failure show fallback local success (so UX doesn't die)
          fetch(action, { method: 'POST', body: fd, headers: { 'Accept': 'application/json' } })
            .then(res => {
              if(res.ok){ showSuccess(successEl); formEl.reset(); }
              else { showSuccess(successEl); formEl.reset(); } // show anyway for better UX
            })
            .catch(err => { showSuccess(successEl); formEl.reset(); });
        });
      }
      function showSuccess(el){
        if(!el) return;
        el.style.display = 'block';
        setTimeout(()=> el.style.display = 'none', 4500);
      }

      handleForm(qs('#subscribeForm'), qs('#subscribeSuccess'));
      handleForm(qs('#contactForm'), qs('#contactSuccess'));

      // ---------- smooth scrolling for internal anchors ----------
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', (e)=>{
          const href = a.getAttribute('href');
          if(href.length>1 && document.querySelector(href)){
            e.preventDefault();
            document.querySelector(href).scrollIntoView({behavior:'smooth',block:'start'});
          }
        });
      });

      // ---------- GSAP animations ----------
      function initAnimations(){
        if(window.gsap && window.ScrollTrigger){
          gsap.registerPlugin(ScrollTrigger);

          // hero entrance
          gsap.from('.hero-content h2', {opacity:0, y:18, duration:1, ease: "power3.out"});
          gsap.from('.hero-content p', {opacity:0, y:12, delay:.12, duration:.9, ease: "power3.out"});
          gsap.from('.hero-cta .btn', {opacity:0, y:8, delay:.22, duration:.9, stagger:.08, ease: "power3.out"});

          // animate cards as they come into view
          qsa('[data-animate]').forEach((el, i)=>{
            gsap.from(el, {
              scrollTrigger: {
                trigger: el,
                start: "top 85%",
              },
              opacity: 0,
              y: 28,
              duration: 0.9,
              delay: i * 0.04,
              ease: "power3.out"
            });
          });

          // subtle header shrink on scroll
          gsap.to('.header-inner', {
            scrollTrigger: {
              start: 'top top',
              end: 99999,
              scrub: .3
            },
            padding: '0.6rem 1rem',
            ease: 'none'
          });

          // pause video when out of viewport to save CPU
          ScrollTrigger.create({
            start: 0,
            end: 'bottom bottom',
            onEnter: ()=> { tryPlayBg(); },
            onLeaveBack: ()=> { tryPlayBg(); }
          });
        } else {
          // fallback with IntersectionObserver if GSAP missing
          const obs = new IntersectionObserver((items)=>{
            items.forEach(i=>{
              if(i.isIntersecting) i.target.style.opacity = 1;
              else i.target.style.opacity = 0.5;
            });
          }, { threshold: 0.2 });
          qsa('[data-animate]').forEach(el=>{ el.style.transition = 'opacity .8s, transform .8s'; obs.observe(el); });
        }
      }

      // ---------- BG video play / pause control ----------
      const bgVideo = qs('#bgVideo');
      function tryPlayBg(){
        if(!bgVideo) return;
        const rect = bgVideo.getBoundingClientRect ? bgVideo.getBoundingClientRect() : {top:0,bottom:0};
        const inView = rect.bottom > 0 && rect.top < (window.innerHeight || document.documentElement.clientHeight);
        if(inView){
          const p = bgVideo.play();
          if(p && p.catch) p.catch(()=> { /* autoplay blocked */ });
        } else {
          // keep muted but pause if not visible
          try { bgVideo.pause(); } catch(e){}
        }
      }

      // ---------- Make iframes lazy by unloading offscreen ones (simple) ----------
      // (We already used loading="lazy" for modern browsers.)

      // ---------- Initialize all visuals after load ----------
      function initAll(){
        initParticles();
        initAnimations();
        tryPlayBg();
      }

      // run after DOM loaded & resources ready
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(initAll, 350);
      } else {
        window.addEventListener('DOMContentLoaded', ()=> setTimeout(initAll, 350));
      }

      // Re-run play check on visibility change
      document.addEventListener('visibilitychange', ()=> {
        if(!document.hidden) tryPlayBg();
      });

      // helpful: pause background video on mobile data if user has 'save-data' preference
      try {
        const supportsSaveData = ('connection' in navigator) && navigator.connection.saveData;
        if(supportsSaveData && navigator.connection.saveData) {
          if(bgVideo) bgVideo.removeAttribute('autoplay');
          // show a still poster automatically
        }
      } catch(e){}

      // ---------- Accessibility: keyboard focus outline improvements ----------
      document.body.addEventListener('keyup', (e)=>{
        if(e.key === "Tab") document.documentElement.style.scrollBehavior = 'smooth';
      });

    })();
  </script>

  <!-- Initialize lucide icons (ensures icons render) -->
  <script>
    // wait for lucide to be available as module loaded earlier
    (function(){ const ready = () => { if(window.lucide) lucide.replace(); else setTimeout(ready,200); }; ready(); })();
  </script>

</body>
</html>
